**Floating IP 구조 (Self-service + Public External Network)** 이다.

|구분|**Public + Self-service (일반 Floating IP 환경)**|**Provider only (L2 직접 연결)**|
|---|---|---|
|**구조**|Self-service ↔ Router ↔ Public|Provider Network 직접 연결|
|**라우터 필요 여부**|✅ 필요 (SNAT 및 DNAT)|❌ 없음|
|**Floating IP**|✅ 지원|❌ 필요 없음|
|**VM 통신 경로**|VM → br-int → Geneve → network node → br-ex|VM → br-int → br-ex|
|**게이트웨이 역할**|network 노드 (게이트웨이 섀시)|각 compute 노드의 br-ex|
|**물리 매핑**|public:br-ex (external network)|phynetX:br-ex (provider network)|
- **Self-service network** : 테넌트(tenant) 내부망 — 내부 VM들이 라우터를 통해 외부로 나감
- **Public network** : 외부망(External network) — Floating IP 할당용으로 쓰임

이 두 네트워크는 라우터를 통해 연결되는 별개의 네트워크고, 
같은 물리망(예: br-ex) 을 공유할 수 있다

---
처음엔 provider와 public 개념을 헷갈림
![[Pasted image 20251010140614.png|300]]
그래서 오픈채팅방에 여쭤보니, public != provider 였고, 좀 더 개념을 확실히 할 수 있었다.

https://atl.kr/dokuwiki/doku.php/kolla-ansible_general_configuraion 이 문서의 ml2_conf.ini 설정을 참고하여 정확하게 잘 설정되었다면 public(external) 네트워크와 내부 테넌트 네트워크 간 통신이 잘 될 것 이라고 한다.
- ml2_conf.ini 파일은 뉴트론에 들어가는 설정임 (따라서 컨트롤러/네트워크 노드에 설정)